<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class. — World class education</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #E9EDF5;
            --card: #F8F9FB;
            --accent: #E8D87A;
            --text: #0F1D2B;
            --muted: #556270;
            --primary: #0A66FF;
            --shadow: 0 12px 40px rgba(16,24,40,.08);
            --radius: 22px;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            background: #C9CFDA;
            padding: 24px;
            font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
            min-height: 100vh;
        }

        .nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: var(--card);
            padding: 14px 20px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            margin-bottom: 18px;
        }

        .brand {
            font-weight: 800;
            color: var(--text);
            font-size: 1.5rem;
        }

        .nav-links {
            display: flex;
            gap: 20px;
        }

        .nav-links a {
            color: var(--muted);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.2s;
        }

        .nav-links a:hover {
            color: var(--text);
        }

        .button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 18px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            border: 1px solid transparent;
            cursor: pointer;
            transition: all 0.2s;
        }

        .button.primary {
            background: var(--text);
            color: #fff;
        }

        .button.primary:hover {
            background: #1a2a3a;
        }

        .button.secondary {
            background: #fff;
            border-color: #E3E6EE;
            color: var(--text);
        }

        .button.secondary:hover {
            background: #f8f9fa;
        }

        .button.ghost {
            background: #fff;
            border-color: #D8DEEA;
            color: var(--text);
        }

        .button.ghost:hover {
            background: #f8f9fa;
        }

        .hero {
            margin-top: 18px;
        }

        .hero-card {
            display: grid;
            grid-template-columns: 1.2fr .8fr;
            gap: 18px;
            background: var(--card);
            border-radius: 24px;
            padding: 28px;
            box-shadow: var(--shadow);
        }

        .hero-copy {
            background: var(--accent);
            border-radius: 20px;
            padding: 28px;
        }

        .eyebrow {
            color: #324055;
            font-weight: 600;
            margin: 0 0 10px;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .hero-copy h1 {
            margin: 0 0 12px;
            font-size: 44px;
            line-height: 1.05;
            color: var(--text);
            font-weight: 800;
        }

        .arrow {
            color: var(--primary);
        }

        .subcopy {
            color: #2f3a4c;
            font-size: 1.1rem;
            line-height: 1.4;
            margin-bottom: 20px;
        }

        .cta {
            display: flex;
            gap: 10px;
            margin-top: 14px;
        }

        .hero-art {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .placeholder-3d {
            width: 100%;
            height: 100%;
            min-height: 260px;
            background: linear-gradient(135deg, #F0E99C 20%, #fff 20% 40%, #F0E99C 40% 60%, #fff 60%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #556270;
            font-weight: 600;
            font-size: 1.2rem;
        }

        .logos {
            display: flex;
            gap: 22px;
            align-items: center;
            justify-content: center;
            background: var(--card);
            padding: 16px;
            border-radius: 16px;
            margin-top: 18px;
            box-shadow: var(--shadow);
        }

        .logo-placeholder {
            width: 80px;
            height: 40px;
            background: #e9ecef;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--muted);
            font-size: 0.8rem;
            font-weight: 600;
        }

        .card.form-card {
            max-width: 620px;
            margin: 28px auto;
            background: var(--card);
            border-radius: 24px;
            padding: 28px;
            box-shadow: var(--shadow);
        }

        .form-card h1 {
            margin: 0 0 8px;
            font-size: 32px;
            font-weight: 800;
            color: var(--text);
        }

        .form-card .subcopy {
            margin-bottom: 24px;
            font-size: 1rem;
        }

        .form {
            display: grid;
            gap: 14px;
        }

        .form .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        label {
            display: grid;
            gap: 6px;
            color: var(--muted);
            font-weight: 600;
        }

        input {
            padding: 14px 12px;
            border: 1px solid #E1E6F0;
            border-radius: 12px;
            background: #fff;
            font-size: 14px;
            transition: border-color 0.2s;
        }

        input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .msg {
            margin-top: 6px;
            font-weight: 600;
            padding: 8px 12px;
            border-radius: 8px;
        }

        .msg.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .msg.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        @media (max-width: 900px) {
            .hero-card {
                grid-template-columns: 1fr;
            }
            
            .form .grid {
                grid-template-columns: 1fr;
            }
            
            .nav-links {
                display: none;
            }
            
            .hero-copy h1 {
                font-size: 32px;
            }
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Landing Page -->
    <div id="landing-page">
        <header class="nav">
            <div class="brand">Class.</div>
            <nav class="nav-links">
                <a href="#courses">Buy a course</a>
                <a href="#success">Success</a>
                <a href="#categories">Categories</a>
                <a href="#pricing">Pricing</a>
            </nav>
            <a class="button ghost" href="#" onclick="showRegistration()">Get started</a>
        </header>

        <main class="hero">
            <section class="hero-card">
                <div class="hero-copy">
                    <p class="eyebrow">World class education</p>
                    <h1>Become <span class="arrow">→</span><br/>a professional in<br/>either field.</h1>
                    <p class="subcopy">Gain job‑ready skills relevant to the market. 1000+ courses for teams and individuals.</p>
                    <div class="cta">
                        <a class="button primary" href="#" onclick="showRegistration()">Get started</a>
                        <a class="button secondary" href="#learn">Learn more</a>
                    </div>
                </div>
                <div class="hero-art">
                    <div class="placeholder-3d">3D Mascot</div>
                </div>
            </section>
        </main>

        <footer class="logos">
            <div class="logo-placeholder">unacademy</div>
            <div class="logo-placeholder">coursera</div>
            <div class="logo-placeholder">skillshare</div>
            <div class="logo-placeholder">udemy</div>
        </footer>
    </div>

    <!-- Registration Page -->
    <div id="registration-page" class="hidden">
        <header class="nav">
            <div class="brand">Class.</div>
            <a class="button ghost" href="#" onclick="showLanding()">Back</a>
        </header>

        <main class="card form-card">
            <h1>Create your account</h1>
            <p class="subcopy">Join 1k+ learners. It only takes a minute.</p>

            <form id="registerForm" class="form">
                <div class="grid">
                    <label>
                        First name
                        <input name="firstname" required />
                    </label>
                    <label>
                        Last name
                        <input name="lastname" required />
                    </label>
                </div>
                <label>
                    Email
                    <input type="email" name="email" required />
                </label>
                <label>
                    Username
                    <input name="username" required />
                </label>
                <label>
                    Password
                    <input type="password" name="password" minlength="8" required />
                </label>
                <button class="button primary" type="submit">Create account</button>
                <div id="msg" class="msg"></div>
            </form>
        </main>
    </div>

    <script>
        // Configuration - Replace with your Moodle details
        const MOODLE_URL = 'https://YOUR_MOODLE_URL';
        const WS_TOKEN = 'YOUR_WS_TOKEN';
        const WS_FUNCTION = 'core_user_create_users';

        function toFormData(obj) {
            const fd = new URLSearchParams();
            Object.entries(obj).forEach(([k,v]) => fd.append(k, v));
            return fd;
        }

        function showRegistration() {
            document.getElementById('landing-page').classList.add('hidden');
            document.getElementById('registration-page').classList.remove('hidden');
        }

        function showLanding() {
            document.getElementById('registration-page').classList.add('hidden');
            document.getElementById('landing-page').classList.remove('hidden');
        }

        document.getElementById('registerForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const msg = document.getElementById('msg');
            msg.textContent = 'Creating your account...';
            msg.className = 'msg';

            const f = e.target;
            const payload = {
                'users[0][username]': f.username.value.trim(),
                'users[0][password]': f.password.value,
                'users[0][firstname]': f.firstname.value.trim(),
                'users[0][lastname]': f.lastname.value.trim(),
                'users[0][email]': f.email.value.trim(),
                'users[0][auth]': 'manual'
            };

            try {
                const res = await fetch(`${MOODLE_URL}/webservice/rest/server.php?moodlewsrestformat=json`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                    body: toFormData({
                        wstoken: WS_TOKEN,
                        wsfunction: WS_FUNCTION,
                        ...payload
                    })
                });

                const data = await res.json();
                if (Array.isArray(data) && data[0]?.id) {
                    msg.className = 'msg success';
                    msg.textContent = 'Account created! You can now log in.';
                    f.reset();
                } else if (data?.exception) {
                    msg.className = 'msg error';
                    msg.textContent = data.message || 'Registration failed.';
                } else {
                    msg.className = 'msg error';
                    msg.textContent = 'Unexpected response. Please try again.';
                }
            } catch (err) {
                msg.className = 'msg error';
                msg.textContent = 'Network error. Please try again.';
            }
        });
    </script>
</body>
</html>
